%\subsection{Efficiency: Redundant Type Checks}

{  %% chapter slide
   %%   \setbeamercolor{background canvas}{bg=sectioncolor}

\begin{frame}{\Challenge{5} Redundant Type Checks}
  Select correct transition, avoiding \Emph{redundant type checks}.

  \medskip

  \scalebox{0.85}{\input{multiple-transitions}}
\end{frame}
}


\newsavebox\typecaseAbox
\begin{lrbox}{\typecaseAbox}
  \begin{minipage}{8cm}
    \input{typecaseAbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseITEbox
\begin{lrbox}{\typecaseITEbox}
  \begin{minipage}{8cm}
    \input{typecaseITEbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseITEafterbox
\begin{lrbox}{\typecaseITEafterbox}
  \begin{minipage}{8cm}
\input{typecaseITEafterbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseBabox
\begin{lrbox}{\typecaseBabox}
  \begin{minipage}{8cm}
\input{typecaseBabox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseBaabox
\begin{lrbox}{\typecaseBaabox}
  \begin{minipage}{8cm}
\input{typecaseBaabox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseBbox
\begin{lrbox}{\typecaseBbox}
  \begin{minipage}{8cm}
    \input{typecaseBbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseCbox
\begin{lrbox}{\typecaseCbox}
  \begin{minipage}{6cm}
\input{typecaseCbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseChbox
\begin{lrbox}{\typecaseChbox}
  \begin{minipage}{6cm}
\input{typecaseChbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseDbox
\begin{lrbox}{\typecaseDbox}
  \begin{minipage}{8cm}
    \input{typecaseDbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseDhbox
\begin{lrbox}{\typecaseDhbox}
  \begin{minipage}{8cm}
    \input{typecaseDhbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseEbox
\begin{lrbox}{\typecaseEbox}
  \begin{minipage}{8cm}
    \input{typecaseEbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseEhbox
\begin{lrbox}{\typecaseEhbox}
  \begin{minipage}{8cm}
    \input{typecaseEhbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseFbox
\begin{lrbox}{\typecaseFbox}
  \begin{minipage}{8cm}
    \input{typecaseFbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseFhbox
\begin{lrbox}{\typecaseFhbox}
  \begin{minipage}{8cm}
    \input{typecaseFhbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseGabox
\begin{lrbox}{\typecaseGabox}
  \begin{minipage}{8cm}
\input{typecaseGabox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseGbox
\begin{lrbox}{\typecaseGbox}
  \begin{minipage}{8cm}
    \input{typecaseGbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseGhbox
\begin{lrbox}{\typecaseGhbox}
  \begin{minipage}{8cm}
    \input{typecaseGhbox}
  \end{minipage}
\end{lrbox}


\newsavebox\typecaseHbox
\begin{lrbox}{\typecaseHbox}
  \begin{minipage}{8cm}
    \input{typecaseHbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseHhbox
\begin{lrbox}{\typecaseHhbox}
  \begin{minipage}{8cm}
    \input{typecaseHhbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseIbox
\begin{lrbox}{\typecaseIbox}
  \begin{minipage}{8cm}
    \input{typecaseIbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseIhbox
\begin{lrbox}{\typecaseIhbox}
  \begin{minipage}{8cm}
    \input{typecaseIhbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseJbox
\begin{lrbox}{\typecaseJbox}
  \begin{minipage}{8cm}
    \input{typecaseJbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseJhbox
\begin{lrbox}{\typecaseJhbox}
  \begin{minipage}{8cm}
    \input{typecaseJhbox}
  \end{minipage}
\end{lrbox}

\newsavebox\typecaseKbox
\begin{lrbox}{\typecaseKbox}
  \begin{minipage}{8cm}
    \input{typecaseKbox}
  \end{minipage}
\end{lrbox}


\newsavebox\typecaseKhbox
\begin{lrbox}{\typecaseKhbox}
  \begin{minipage}{8cm}
    \input{typecaseKhbox}
  \end{minipage}
\end{lrbox}



\begin{frame}[t]{Sequential Type Check}
  A DFA state may have several \Emph{disjoint} transitions.
  \begin{columns}
    \begin{column}{0.5\textwidth}
      \scalebox{0.9}{\input{multiple-transitions}}
    \end{column}
    \begin{column}{0.5\textwidth}  %%
      \only<1>{\usebox\typecaseAbox}%
      \only<2>{\usebox\typecaseKbox}
    \end{column}
  \end{columns}

  \begin{itemize}
  \item<1->{Some types may be checked multiple times.}
  \item<2>{We can rewrite the code to \Emph{eliminate redundant checks}.}
  \end{itemize}

\end{frame}
